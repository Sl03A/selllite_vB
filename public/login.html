<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Connexion</title><link rel="stylesheet" href="/assets/styles.css"></head><body>
<main class="container card" style="max-width:420px;margin:60px auto;"><h2>Connexion</h2>
<form id="form-login"><label>Email</label><input name="email" type="email" required><label>Mot de passe</label><input name="password" type="password" required><button class="btn" type="submit">Se connecter</button></form>
<p>Pas de compte ? <a href="/register.html">S'inscrire</a></p><div id="msg"></div></main>
<script>
document.getElementById('form-login').addEventListener('submit', async e=>{
  e.preventDefault();
  const fd=new FormData(e.target);
  const res = await fetch('/api/user/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:fd.get('email'),password:fd.get('password')})});
  if(res.ok) location.href='/'; else document.getElementById('msg').textContent='Identifiants invalides';
});
</script></body></html>
