<!doctype html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Inscription</title><link rel="stylesheet" href="/assets/styles.css"></head><body>
<main class="container card" style="max-width:480px;margin:60px auto;"><h2>Inscription</h2>
<form id="form-register"><label>Email</label><input name="email" type="email" required><label>Mot de passe</label><input name="password" type="password" required><button class="btn" type="submit">S'inscrire</button></form>
<p>Déjà inscrit ? <a href="/login.html">Se connecter</a></p><div id="msg"></div></main>
<script>
document.getElementById('form-register').addEventListener('submit', async e=>{
  e.preventDefault();
  const fd=new FormData(e.target);
  const res = await fetch('/api/user/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:fd.get('email'),password:fd.get('password')})});
  if(res.ok) location.href='/'; else document.getElementById('msg').textContent='Erreur';
});
</script></body></html>
